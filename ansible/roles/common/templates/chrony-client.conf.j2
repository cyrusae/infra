# /etc/chrony/chrony.conf
# Generated by Ansible -- do not edit by hand.
# Laptop nodes: prefer Babbage as time source, fall back to internet pools.
# Tight local sync reduces etcd clock drift risk.

# Babbage as preferred local time source
server {{ k3s_primary_ip }} iburst prefer

# Internet pools as fallback (used when Babbage is unreachable)
pool 2.ubuntu.pool.ntp.org iburst maxsources 4

# Standard chrony settings
driftfile /var/lib/chrony/chrony.drift
logdir /var/log/chrony
maxupdateskew 100.0
rtcsync
makestep 1 3
